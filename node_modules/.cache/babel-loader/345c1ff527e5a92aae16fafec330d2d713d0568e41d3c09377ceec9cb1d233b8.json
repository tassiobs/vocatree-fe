{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../hooks/useAuth';import{Eye,EyeOff,LogIn}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const LoginForm=_ref=>{let{onSuccess}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[showPassword,setShowPassword]=useState(false);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const{login}=useAuth();const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setError(null);try{console.log('LoginForm: Attempting login with email:',email);await login(email,password);console.log('LoginForm: Login completed successfully');onSuccess===null||onSuccess===void 0?void 0:onSuccess();}catch(err){var _err$response,_err$response$data;console.error('LoginForm: Login failed with error:',err);const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||err.message||'Login failed. Please try again.';console.error('LoginForm: Error message:',errorMessage);setError(errorMessage);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100\",children:/*#__PURE__*/_jsx(LogIn,{className:\"h-6 w-6 text-primary-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"Sign in to Vocatree\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:\"An English vocabulary app for busy advanced learners\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"rounded-md bg-red-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-red-700\",children:error})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"email\",autoComplete:\"email\",required:true,className:\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Enter your email\",value:email,onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:showPassword?'text':'password',autoComplete:\"current-password\",required:true,className:\"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Enter your password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",onClick:()=>setShowPassword(!showPassword),children:showPassword?/*#__PURE__*/_jsx(EyeOff,{className:\"h-4 w-4 text-gray-400\"}):/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4 text-gray-400\"})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Signing in...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LogIn,{className:\"h-4 w-4 mr-2\"}),\"Sign in\"]})})})]})]})});};","map":{"version":3,"names":["React","useState","useAuth","Eye","EyeOff","LogIn","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginForm","_ref","onSuccess","email","setEmail","password","setPassword","showPassword","setShowPassword","isLoading","setIsLoading","error","setError","login","handleSubmit","e","preventDefault","console","log","err","_err$response","_err$response$data","errorMessage","response","data","detail","message","className","children","onSubmit","htmlFor","id","name","type","autoComplete","required","placeholder","value","onChange","target","onClick","disabled"],"sources":["/Users/tassiobs/Documents/vocatree-fe/src/components/LoginForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useAuth } from '../hooks/useAuth';\nimport { Eye, EyeOff, LogIn } from 'lucide-react';\n\ninterface LoginFormProps {\n  onSuccess?: () => void;\n}\n\nexport const LoginForm: React.FC<LoginFormProps> = ({ onSuccess }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const { login } = useAuth();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      console.log('LoginForm: Attempting login with email:', email);\n      await login(email, password);\n      console.log('LoginForm: Login completed successfully');\n      onSuccess?.();\n    } catch (err: any) {\n      console.error('LoginForm: Login failed with error:', err);\n      const errorMessage = err.response?.data?.detail || err.message || 'Login failed. Please try again.';\n      console.error('LoginForm: Error message:', errorMessage);\n      setError(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <div className=\"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100\">\n            <LogIn className=\"h-6 w-6 text-primary-600\" />\n          </div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Sign in to Vocatree\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            An English vocabulary app for busy advanced learners\n          </p>\n        </div>\n        \n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          {error && (\n            <div className=\"rounded-md bg-red-50 p-4\">\n              <div className=\"text-sm text-red-700\">{error}</div>\n            </div>\n          )}\n          \n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                Email address\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                required\n                className=\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Enter your email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n            \n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                Password\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  autoComplete=\"current-password\"\n                  required\n                  className=\"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                  placeholder=\"Enter your password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                />\n                <button\n                  type=\"button\"\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                  onClick={() => setShowPassword(!showPassword)}\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"h-4 w-4 text-gray-400\" />\n                  ) : (\n                    <Eye className=\"h-4 w-4 text-gray-400\" />\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? (\n                <div className=\"flex items-center\">\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                  Signing in...\n                </div>\n              ) : (\n                <>\n                  <LogIn className=\"h-4 w-4 mr-2\" />\n                  Sign in\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}